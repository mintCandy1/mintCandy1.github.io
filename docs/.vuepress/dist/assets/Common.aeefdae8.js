import{N as _,S as q,M as E,F as M}from"./Sidebar.07865d1f.js";import{_ as O,e as P,i as Y,V as G,j as R,k as u,p as X,Y as j,m as b,n as z,q as L,r as U,o as h,c as A,s as o,h as c,f as T,w as i,v as y,b as $,g as m,x as J}from"./app.9eb88680.js";const K={class:"page-content"},Q=P({__name:"Common",setup(W){const p=Y(),k=G(),N=R(),S=u(()=>p.value.navbar!==!1&&k.value.navbar!==!1),x=u(()=>X.value.path===""),w=j(),d=u(()=>w.value.length>0&&!x.value),v=b(!1),s=e=>{v.value=typeof e=="boolean"?e:!v.value},t={x:0,y:0},B=e=>{t.x=e.changedTouches[0].clientX,t.y=e.changedTouches[0].clientY},F=e=>{const a=e.changedTouches[0].clientX-t.x,l=e.changedTouches[0].clientY-t.y;Math.abs(a)>Math.abs(l)&&Math.abs(a)>40&&(a>0&&t.x<=80?s(!0):s(!1))},n=b(!1),r=e=>{n.value=typeof e=="boolean"?e:!n.value;const a=document.querySelector("html");n.value?a==null||a.classList.add("fixed"):a==null||a.classList.remove("fixed"),n.value&&setTimeout(function(){document.querySelector(".search-page input").focus()},400)},g=b(!1),I=e=>{g.value=typeof e=="boolean"?e:!g.value},V=u(()=>[{"no-navbar":!S.value,"no-sidebar":!d.value,"sidebar-open":v.value,"catalog-open":g.value,"search-open":n.value},p.value.pageClass]);let C;return z(()=>{C=N.afterEach(()=>{s(!1),r(!1)})}),L(()=>{C()}),(e,a)=>{const l=U("GungnirSearchPage");return h(),A("div",{class:J(["theme-container",c(V)]),onTouchstart:B,onTouchend:F},[o(e.$slots,"navbar",{},()=>[c(S)?(h(),T(_,{key:0,"is-sidebar":c(d),onToggleSearch:a[0]||(a[0]=f=>r(!0))},{before:i(()=>[o(e.$slots,"navbar-before")]),after:i(()=>[o(e.$slots,"navbar-after")]),_:3},8,["is-sidebar"])):y("",!0)]),$("div",{class:"sidebar-mask",onClick:a[1]||(a[1]=f=>s(!1))}),o(e.$slots,"sidebar",{},()=>[m(q,{onToggleSearch:a[2]||(a[2]=f=>r(!0))},{top:i(()=>[o(e.$slots,"sidebar-top")]),bottom:i(()=>[o(e.$slots,"sidebar-bottom")]),_:3})]),$("div",K,[o(e.$slots,"page")]),m(l,{onToggleSearch:a[3]||(a[3]=f=>r(!1))}),m(E,{onToggleSidebar:s,onToggleCatalog:I}),c(d)?y("",!0):(h(),T(M,{key:0}))],34)}}});var H=O(Q,[["__file","Common.vue"]]);export{H as C};
